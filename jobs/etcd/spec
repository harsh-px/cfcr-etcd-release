---
name: etcd

templates:
  bin/drain.erb: bin/drain
  bin/ensure-member-healthy.erb: bin/ensure-member-healthy
  bin/etcd.erb: bin/etcd
  bin/etcdctl.erb: bin/etcdctl
  bin/post-start.erb: bin/post-start
  bin/pre-start.erb: bin/pre-start
  bin/setup.erb: bin/setup
  bin/utils.sh.erb: bin/utils.sh
  config/bpm.yml.erb: config/bpm.yml

packages:
- etcd

provides:
- name: etcd
  type: etcd
  properties:
  - etcd.dns_suffix

consumes:
- name: etcd
  type: etcd

properties:
  etcd.dns_suffix:
    description: If provided, used as a DNS suffix for all nodes in the etcd cluster
  etcd.metrics_protocol:
    description: IF provided with etcd.metrics_port, metrics endpoints listen with the protocol. http or https.
  etcd.metrics_port:
    description: IF provided with etcd.metrics_protocol, metrics endpoints listen on the port. 2379 and 2380 can not be used.
